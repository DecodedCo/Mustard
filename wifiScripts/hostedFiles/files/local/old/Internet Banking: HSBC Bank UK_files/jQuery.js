/*
  jQuery.hsbc_DNT.js  v1.0.8
 Copyright 2012 HSBC Bank plc 2012
 Now includes Celebrus extract
*/
var csaName="csaHSBC",csURI="www."+(/.*(hsbc\.co\.uk|hsbc\.com|hsbcinsurance\.insure-systems\.co\.uk)+$/gim.test(document.location.host)?"mcmprod":document.location.host.indexOf("perf")>-1?"mcmperf":"mcmdev")+".hsbc.co.uk",optedInText="You are Opted In",optedOutText="You are Opted Out",csaOptIN="https://"+csURI+"/p3pOptions/optIn",csaOptOUT="https://"+csURI+"/p3pOptions/completeOptOut",csaOptAnon="https://"+csURI+"/p3pOptions/anonymous";
function getOptOutStatus(){return window[csaName+"sn"]?window[csaName+"sn"]==-2?optedOutText:optedInText:""}function getLoadBalancerID(){for(var a=""+Math.floor(Math.random()*9999+1);a.length<4;)a="0"+a;return a}function startEvents(){if(window[csaName+"SL"])window[csaName+"SL"]()}
window.onClickOptIn=function(){try{if(createIFrame(csaOptIN),!window[csaName+"sn"]||window[csaName+"sn"]==-2){var a="_"+(new Date).getTime()+Math.random()+"_",c=getLoadBalancerID();window[csaName+"SC"]?(window[csaName+"SC"]("usy46gabsosd="+csaName+a+c),window[csaName+"windowID"]="",window[csaName+"sn"]="",window[csaName+"SL"]&&window.setTimeout(startEvents,800)):(clearListCookies(),window[csaName+"windowID"]="",window[csaName+"sn"]="")}}catch(b){}};
window.onClickOptInAnon=function(){try{if(createIFrame(csaOptAnon),!window[csaName+"sn"]||window[csaName+"sn"]==-2){var a="_"+(new Date).getTime()+Math.random()+"_",c=getLoadBalancerID();window[csaName+"SC"]&&(window[csaName+"SC"]("usy46gabsosd="+csaName+a+c),window[csaName+"windowID"]="",window[csaName+"sn"]="",window[csaName+"SL"]&&window.setTimeout(startEvents,800))}}catch(b){}};window.onClickOptOut=function(){try{clearListCookies(),createIFrame(csaOptOUT)}catch(a){alert(a)}};
function createIFrame(a){ifrm=document.createElement("IFRAME");ifrm.setAttribute("src",a);ifrm.style.width="1px";ifrm.style.height="1px";document.body.appendChild(ifrm)}function clearListCookies(){for(var a=(new Date).toGMTString(),c=document.cookie.split(";"),b=0;b<c.length;b++){var d=c[b].split("=");(d[0]=="usy46gabsosd"||d[0].indexOf(csaName)>=0)&&deleteCookieVal(d[0],a)}}
function deleteCookieVal(a,c,b,d,i,e,f){var g=document,i=a+"=; path=/;";c&&(i=i+"expires="+c);d=location.hostname;e=d.split(".");if(b)g.cookie=i+";domain="+b;else if(e.length>=2){f=e.length-2;for(b="."+e[f+1];g.cookie.indexOf(a)>-1&&f>=0;)b="."+e[f]+b,g.cookie=i+";domain="+b,f--}}
var COOKIE_PRIVACY=function(a,c){function b(a,b,h){var b=(new Date((new Date).getTime()+2592E6*b)).toGMTString(),d="",d=h?"opt_in_status="+a+";domain="+j+"; path=/":"opt_in_status="+a+"; expires="+b+";domain="+j+"; path=/";document.cookie=d;if(c.getOptOutStatus)if(h=getOptOutStatus().match(/(In|Out)/gim),h=h!==null&&h.length>0?h[0].toLowerCase():"in",h==="out"&&a===1)c.onClickOptIn();else if(h==="in"&&a===0)c.onClickOptOut()}function d(){var b=(b=/(?:^|; )status_banner=([^;]*)/.exec(document.cookie))?
b[1]:null,c=(new Date((new Date).getTime()+15552E6)).toGMTString();cookie_data="status_banner="+b+"; expires="+c+";domain="+j+"; path=/";b<o&&(cookie_data="status_banner="+o+"; expires="+c+";domain="+j+"; path=/",document.cookie.indexOf("opt_in_status=")!==-1&&a("#disclaimer_banner").addClass(k).html(q).show());document.cookie=cookie_data}function i(){a("#cookies_enabled_banner").removeClass(l).html("").hide();a("#cookies_disabled_banner").removeClass(n).html("").hide();a("#disclaimer_banner").addClass(k).html(r).show();
var b=(new Date).getTime();expire_date=(new Date((new Date).getTime()+15552E6)).toGMTString();cookie_data="status_banner="+b+"; expires="+expire_date+";domain="+j+"; path=/";document.cookie=cookie_data}function e(c){var e=(new Date((new Date).getTime()+15552E6)).toGMTString();a("div.enabledBannerCloseButton, div.enabledBannerCloseButton a").live("click touchstart",function(){document.cookie="banner_enabled_close_status=1;expires="+e+";domain="+j+"; path=/";a("#cookies_enabled_banner").removeClass(l).html("").hide()});
a("#cookies_enabled_banner").addClass(l).html(s).show();a("#cookies_disabled_banner").removeClass(n).html("").hide();a("#disclaimer_banner").removeClass(k).html("").hide();c!==1&&d();b(1,6,0);a("#logonForm").length&&a("#cookieBox p").append(t)}function f(b){a("#cookies_enabled_banner").removeClass(l).html("").hide();a("#cookies_disabled_banner").addClass(n).html(u).show();a("#disclaimer_banner").removeClass(k).html("").hide();b!==1&&d();a("#cookie_logon_text").remove()}function g(){document.getElementById("disclaimer_banner")||
a("#grid").prepend('<div id="disclaimer_banner"></div>');document.cookie.indexOf("opt_in_status=1")===-1&&a("#personalLogonForm").addClass("containsCookieMessage").find("#logonForm").append('<div id="logon_notification_banner" class="eucookie_disclaimer_logon"><p>By logging on to Internet Banking, all cookies will be enabled to give you access to the features of our fully-optimised website. For more details, please read our <a href="/1/2/cookie-policy?HBEU_dyn_lnk=Cookies2_LogonPage_Policy_Link" title="">Cookie&nbsp;Policy</a>.</p></div>');
if(document.cookie.indexOf("opt_in_status=")===-1){navigator.doNotTrack==="yes"&&b(0,1,1);if(navigator.appVersion.indexOf("MSIE")!==-1)try{c.external.InPrivateFilteringEnabled()===true&&b(0,1,1)}catch(j){}c.self.location.search.indexOf("opt_in_status=1")!==-1&&b(1,6,0);c.self.location.search.indexOf("opt_in_status=0")!==-1&&b(0,1,1)}if(document.cookie.indexOf("opt_in_status=1")!==-1)document.cookie.indexOf("banner_enabled_close_status=1")===-1?e():d();else if(document.cookie.indexOf("opt_in_status=0")!==
-1)f();else{i();var g=function(){a(this).hasClass("dnt_no_consent")||(this.id==="disable_cookies"?f(1):document.cookie.indexOf("opt_in_status=0")===-1&&document.cookie.indexOf("banner_enabled_close_status=1")===-1&&e(1))};a("body").delegate("a","click",g);a("input.submit").click(g)}a("#enable_cookie_button").click(function(a){a.preventDefault();dcsMultiTrack("DCS.dcsuri","Cookies2/StatusBanner/Disabled/EnableCookies/Btn","WT.ti","Cookies2:StatusBanner:Disabled:EnableCookies:Btn","WT.pn_sku","","WT.tx_u",
"","WT.tx_e","","HSBC_u","","HSBC_e","","WT.si_n","","WT.si_x","");e()});a(v).length&&(a("#cookies_enabled_banner").remove(),a("#cookies_disabled_banner").remove(),a("#policy_link").remove());a("#dnt_prefs_selection").length>0&&(a("#enable_cookies").bind("click",c.onClickOptIn),a("#disable_cookies").bind("click",c.onClickOptOut))}var m={},r=a('<p><strong>HSBC Cookie Policy</strong><br />We use cookies to give you the best possible experience on our website. By continuing to browse this site, you give consent for cookies to be used.<span id="policy_link"> For more details, including how you can amend your preferences, please read our <a class="dnt_no_consent" href="/1/2/cookie-policy?HBEU_dyn_lnk=Cookies2_ConsentBanner_FT_Link" title="Cookie Policy">Cookie&nbsp;Policy</a>.</span></p>'),
k="eucookie_disclaimer",s='<div class="enabledBannerCloseButton"><a class="mobileonly"></a></div><p><strong>Cookies are enabled</strong> You are viewing the fully-optimised version of our website. For more details, please read our <a href="/1/2/cookie-policy" title="Cookie Policy">Cookie Policy</a>.</p>',l="eucookie_status eucookie_enabled",u='<div class="eucookie_btn_container"><a id="enable_cookie_button" class="redBtn" href="#" title="Enable cookies"><span>Enable&nbsp;cookies</span></a> </div> <p><strong>Tailored content cookies are disabled</strong> By enabling cookies, you will have access to all the features of our fully-optimised website. For a list of all the cookies we use and what they do, please read our <a href="/1/2/cookie-policy?HBEU_dyn_lnk=Cookies2_StatusBanner_Disabled_Link" title="Cookie Policy">Cookie Policy</a>.</p>',
n="eucookie_status eucookie_disabled",t='<p id="cookie_logon_text">Please note, if you use Internet Banking, cookies will be enabled in order to log on</p>.',v="#cookie_management_page",o=1390321185388,q=a('<p class="one-liner">To help us improve our website, we\'ve added some new cookies. <span id="policy_link">For a list of all the cookies we use and what they do, please read our <a class="dnt_no_consent" href="/1/2/cookie-policy?HBEU_dyn_lnk=Cookies2_ServiceBanner_Link" title="Cookie Policy">Cookie&nbsp;Policy</a>.</span></p>'),
p=c.location.hostname,j=p.indexOf("hsbc.co.uk")!==-1?".hsbc.co.uk":p;m.get_opt_in_status=function(){var a="";document.cookie.indexOf("opt_in_status")!==-1&&(a=1);document.cookie.indexOf("opt_in_status=0")!==-1&&(a=0);return a};m.set_dnt_cookie=function(a,c,d){return b(a,c,d)};m.version="1.0.8";a(function(){g()});return m}(jQuery,window);
